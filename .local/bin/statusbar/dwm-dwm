#!/bin/sh

factor="0.0009765625"

mem_kb_dwm=$(pmap -x $(pidof dwm)|grep total|awk '{printf $3}')
mem_kb_dwmblocks=$(pmap -x $(pidof dwmblocks)|grep total|awk '{printf $3}')

# mem_mb=$(echo "$mem_kb*$factor"|bc -l[)
mem_mb_dwm=$(echo "$mem_kb_dwm*$factor"|bc -l)
mem_short_dwm=$(echo $mem_mb_dwm|awk '{printf "%.2f", $1}')

mem_mb_dwmblocks=$(echo "$mem_kb_dwmblocks*$factor"|bc -l)
mem_short_dwmblocks=$(echo $mem_mb_dwmblocks|awk '{printf "%.2f", $1}')

echo "RAM usage = dwm : $mem_short_dwm MB - dwmblocks : $mem_short_dwmblocks MB" 
